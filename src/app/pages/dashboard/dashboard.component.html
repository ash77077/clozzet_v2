<div class="dashboard-container">
	<!-- Loading State -->
	<div class="loading-container" *ngIf="isLoading">
		<div class="loading-spinner"></div>
		<p>Loading dashboard...</p>
	</div>

	<!-- Error State -->
	<div class="error-container" *ngIf="error && !isLoading">
		<div class="error-message">
			<h3>Error Loading Dashboard</h3>
			<p>{{ error }}</p>
		</div>
	</div>

	<!-- Dashboard Content -->
	<div class="dashboard-content" *ngIf="!isLoading && !error && currentUser">
		<div class="welcome-section">
			<h1>Welcome, {{ currentUser.firstName }}!</h1>
			<p>Here's your dashboard overview</p>
		</div>

		<!-- Statistics Overview -->
		<section class="statistics-section">
			<div class="stats-grid">
				<div class="stat-card">
					<div class="stat-icon">üì¶</div>
					<div class="stat-content">
						<h3>{{ statisticsData.totalOrders }}</h3>
						<p>Total Orders</p>
						<span class="growth positive">+{{ statisticsData.monthlyGrowth }}%</span>
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">üë•</div>
					<div class="stat-content">
						<h3>{{ statisticsData.totalUsers }}</h3>
						<p>Total Users</p>
						<span class="growth">{{ statisticsData.activeUsers }} active</span>
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">üè¢</div>
					<div class="stat-content">
						<h3>{{ statisticsData.totalCompanies }}</h3>
						<p>Companies</p>
					</div>
				</div>
				<div class="stat-card">
					<div class="stat-icon">üí∞</div>
					<div class="stat-content">
						<h3>{{ formatCurrency(statisticsData.totalRevenue) }}</h3>
						<p>Total Revenue</p>
						<span class="growth positive">+{{ statisticsData.monthlyGrowth }}%</span>
					</div>
				</div>
			</div>
		</section>

		<!-- Charts Section -->
		<section class="charts-section">
			<h2 class="section-title">Analytics Overview</h2>

			<div class="charts-grid">
				<!-- Orders Trend Chart -->
				<div class="chart-card">
					<div class="chart-header">
						<h3>Orders Trend</h3>
						<p>Last 6 months performance</p>
					</div>
					<div class="chart-container">
						<p-chart type="line" [data]="ordersChartData" [options]="chartOptions"></p-chart>
					</div>
				</div>

				<!-- Users Growth Chart -->
				<div class="chart-card">
					<div class="chart-header">
						<h3>User Growth</h3>
						<p>New user registrations</p>
					</div>
					<div class="chart-container">
						<p-chart type="line" [data]="usersChartData" [options]="chartOptions"></p-chart>
					</div>
				</div>

				<!-- Revenue Chart -->
				<div class="chart-card">
					<div class="chart-header">
						<h3>Quarterly Revenue</h3>
						<p>Revenue breakdown by quarter</p>
					</div>
					<div class="chart-container">
						<p-chart type="bar" [data]="revenueChartData" [options]="chartOptions"></p-chart>
					</div>
				</div>

				<!-- Orders Status Chart -->
				<div class="chart-card">
					<div class="chart-header">
						<h3>Order Status</h3>
						<p>Current order distribution</p>
					</div>
					<div class="chart-container">
						<p-chart type="doughnut" [data]="ordersStatusChartData" [options]="{ responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }"></p-chart>
					</div>
				</div>

				<!-- Companies Chart -->
				<div class="chart-card">
					<div class="chart-header">
						<h3>Company Distribution</h3>
						<p>Companies by size</p>
					</div>
					<div class="chart-container">
						<p-chart type="pie" [data]="companiesChartData" [options]="{ responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom' } } }"></p-chart>
					</div>
				</div>

				<!-- Key Metrics Card -->
				<div class="chart-card metrics-card">
					<div class="chart-header">
						<h3>Key Metrics</h3>
						<p>Important indicators</p>
					</div>
					<div class="metrics-container">
						<div class="metric-item">
							<span class="metric-label">Pending Orders</span>
							<span class="metric-value">{{ statisticsData.pendingOrders }}</span>
						</div>
						<div class="metric-item">
							<span class="metric-label">Completed Orders</span>
							<span class="metric-value">{{ statisticsData.completedOrders }}</span>
						</div>
						<div class="metric-item">
							<span class="metric-label">Active Users</span>
							<span class="metric-value">{{ statisticsData.activeUsers }}</span>
						</div>
						<div class="metric-item">
							<span class="metric-label">Growth Rate</span>
							<span class="metric-value growth positive">+{{ statisticsData.monthlyGrowth }}%</span>
						</div>
					</div>
				</div>
			</div>
		</section>

	</div>
</div>
